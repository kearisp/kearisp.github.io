{"version":3,"file":"static/js/950.85cbf88d.chunk.js","mappings":"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","sources":["../packages/react-canny/lib/makes/Canny.js","../packages/react-canny/lib/makes/CannyLoader.js","../packages/react-canny/lib/contexts/CannyContext.js","../packages/react-canny/lib/views/CannyChangelog/index.js","../packages/react-canny/lib/views/CannyFeedback/index.js","../packages/react-canny/lib/views/CannyProvider/index.js","pages/FeedbackPage/index.tsx"],"sourcesContent":["class Canny {\n    constructor(canny) {\n        this.canny = canny;\n    }\n    identify(appID, user) {\n        this.canny(\"identify\", { appID, user });\n    }\n    render(options) {\n        if (this.canny) {\n            this.canny(\"render\", options);\n        }\n    }\n    initChangelog(options) {\n        if (this.canny) {\n            this.canny(\"initChangelog\", options);\n        }\n    }\n    closeChangelog() {\n        if (this.canny) {\n            this.canny(\"closeChangelog\");\n        }\n    }\n}\nexport { Canny };\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nclass CannyLoader {\n    get Canny() {\n        return window.Canny;\n    }\n    load(subdomain, domain) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.Canny) {\n                return this.Canny;\n            }\n            const script = document.createElement(\"script\");\n            script.type = \"text/javascript\";\n            script.async = true;\n            const url = new URL(\"https://canny.io/sdk.js\");\n            if (subdomain) {\n                url.hostname = `${subdomain}.canny.io`;\n            }\n            if (domain) {\n                url.hostname = domain;\n            }\n            script.src = url.toString();\n            return new Promise((resolve, reject) => {\n                script.onload = () => {\n                    resolve(this.Canny);\n                };\n                script.onerror = (err) => {\n                    reject(err);\n                };\n                document.head.append(script);\n            });\n        });\n    }\n}\nexport { CannyLoader };\n","import { createContext, useContext } from \"react\";\nimport { Canny } from \"../makes\";\nconst CannyContext = createContext({\n    isLoaded: false,\n    canny: new Canny(null)\n});\nconst useCannyContext = () => {\n    return useContext(CannyContext);\n};\nexport { useCannyContext, CannyContext };\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useEffect } from \"react\";\nimport { useCannyContext } from \"../../contexts\";\nconst CannyChangelog = (props) => {\n    const { component: Component = \"button\", align = \"left\", position = \"bottom\", labelIDs, children } = props, rest = __rest(props, [\"component\", \"align\", \"position\", \"labelIDs\", \"children\"]);\n    const { isLoaded, appId, canny } = useCannyContext();\n    useEffect(() => {\n        if (isLoaded && appId) {\n            canny.initChangelog({\n                appID: appId,\n                align,\n                position,\n                labelIDs\n            });\n            return () => canny.closeChangelog();\n        }\n    }, [isLoaded, appId, align, position, labelIDs]);\n    return (_jsx(Component, Object.assign({}, rest, { \"data-canny-changelog\": \"\", children: children })));\n};\nexport { CannyChangelog };\n","var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useRef, useEffect } from \"react\";\nimport { useCannyContext } from \"../../contexts\";\nconst CannyFeedback = (props) => {\n    const { component: Component = \"div\", basePath, boardToken, ssoToken, theme, onLoadCallback } = props, rest = __rest(props, [\"component\", \"basePath\", \"boardToken\", \"ssoToken\", \"theme\", \"onLoadCallback\"]);\n    const handleLoad = useRef();\n    handleLoad.current = onLoadCallback;\n    const { isLoaded, canny } = useCannyContext();\n    useEffect(() => {\n        if (!isLoaded) {\n            return;\n        }\n        canny.render({\n            basePath,\n            boardToken,\n            ssoToken,\n            theme,\n            onLoadCallback: handleLoad.current\n        });\n    }, [ssoToken, boardToken, basePath, isLoaded, theme]);\n    return (_jsx(Component, Object.assign({}, rest, { \"data-canny\": \"\" })));\n};\nexport { CannyFeedback };\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useState, useEffect, useRef, useMemo } from \"react\";\nimport { Canny, CannyLoader } from \"../../makes\";\nimport { CannyContext } from \"../../contexts\";\nconst CannyProvider = (props) => {\n    const { appId, domain, subdomain, user, children } = props;\n    const [isLoaded, setLoaded] = useState(false);\n    const refCanny = useRef(null);\n    const canny = useMemo(() => {\n        return new Canny(refCanny.current);\n    }, [isLoaded]);\n    useEffect(() => {\n        (() => __awaiter(void 0, void 0, void 0, function* () {\n            const loader = new CannyLoader();\n            try {\n                refCanny.current = yield loader.load(subdomain, domain);\n                setLoaded(true);\n            }\n            catch (err) {\n                console.error(err);\n            }\n        }))();\n    }, []);\n    useEffect(() => {\n        if (!isLoaded) {\n            return;\n        }\n        canny.identify(appId, user);\n    }, [isLoaded, appId, user]);\n    return (_jsx(CannyContext.Provider, { value: {\n            appId,\n            isLoaded,\n            canny\n        }, children: children }));\n};\nexport { CannyProvider };\n","import React, {useCallback} from \"react\";\nimport {Grid, useColorScheme} from \"@mui/material\";\n\nimport {\n    CannyProvider,\n    CannyFeedback,\n    CannyChangelog\n} from \"react-canny\";\n\nimport {CANNY_APP_ID, CANNY_BOARD_ID} from \"src/env\";\n\n\nconst Button: React.FC<any> = (props) => {\n    return (\n        <button {...props} />\n    );\n};\n\n\nconst FeedbackPage: React.FC = () => {\n    const {mode = \"dark\"} = useColorScheme();\n\n    const handleLoad = useCallback(() => {\n        console.log(\"LOADED!\");\n    }, []);\n\n    return (\n        <CannyProvider\n          appId={CANNY_APP_ID}\n          subdomain=\"kearisp\"\n          user={{\n            id: \"1\",\n            name: \"Test User\",\n            email: \"test@test.com\"\n          }}>\n            <CannyFeedback\n              theme={[\"light\", \"dark\"].includes(mode) ? mode as \"dark\" : \"dark\"}\n              boardToken={CANNY_BOARD_ID}\n              onLoadCallback={handleLoad} />\n\n            <Grid container justifyContent=\"center\" justifyItems=\"center\">\n                <Grid item>\n                    <CannyChangelog\n                      component={Button}\n                      type=\"button\"\n                      align=\"top\"\n                      position=\"right\"\n                      labelIDs={[]}>\n                        Change log\n                    </CannyChangelog>\n                </Grid>\n            </Grid>\n        </CannyProvider>\n    );\n};\n\n\nexport default FeedbackPage;"],"names":["Canny","constructor","canny","this","identify","appID","user","render","options","initChangelog","closeChangelog","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","CannyLoader","window","load","subdomain","domain","script","document","createElement","type","async","url","URL","hostname","concat","src","toString","onload","onerror","err","head","append","CannyContext","createContext","isLoaded","useCannyContext","useContext","__rest","s","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","CannyChangelog","props","component","Component","align","position","labelIDs","children","rest","appId","useEffect","_jsx","assign","CannyFeedback","basePath","boardToken","ssoToken","theme","onLoadCallback","handleLoad","useRef","current","CannyProvider","setLoaded","useState","refCanny","useMemo","loader","console","error","Provider","Button","FeedbackPage","mode","useColorScheme","useCallback","log","_jsxs","CANNY_APP_ID","id","name","email","includes","CANNY_BOARD_ID","Grid","container","justifyContent","justifyItems","item"],"sourceRoot":""}