{"version":3,"file":"static/js/95.37823052.chunk.js","mappings":"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","sources":["pages/PathBuilderPage/blocks/InputSlider/index.tsx","pages/PathBuilderPage/blocks/ConfigProvider/index.tsx","pages/PathBuilderPage/blocks/ConfigPanel/index.tsx","../packages/motor-js/lib/core/Context.js","../packages/motor-js/lib/context/CanvasContext.js","../packages/motor-js/lib/context/SVGContext.js","../packages/motor-js/lib/core/Vector.js","../packages/motor-js/lib/core/Polygon.js","../packages/motor-js/lib/core/Camera.js","../packages/motor-js/lib/utils/calcCameraRotationMatrix.js","../packages/motor-js/lib/core/Model.js","../packages/motor-js/lib/utils/calcDirectionMatrix.js","../packages/motor-js/lib/core/DataProvider.js","../packages/motor-js/lib/core/Scene.js","../packages/motor-js/lib/shapes/Sphere.js","../packages/motor-js/lib/shapes/Cube.js","pages/PathBuilderPage/models/Lines.ts","pages/PathBuilderPage/blocks/PathBuilder/index.tsx","pages/PathBuilderPage/index.tsx"],"sourcesContent":["import React, {useCallback} from \"react\";\nimport {Grid, Slider, SliderProps} from \"@mui/material\";\n\n\ntype Props = {\n    title?: SliderProps[\"title\"];\n    marks?: SliderProps[\"marks\"];\n    min?: SliderProps[\"min\"];\n    max?: SliderProps[\"max\"];\n    step?: number;\n    defaultValue?: SliderProps[\"defaultValue\"];\n    value?: number;\n    onChange?: (value: number) => void;\n};\n\nconst InputSlider: React.FC<Props> = (props) => {\n    const {\n        value,\n        onChange,\n        ...rest\n    } = props;\n\n    const handleChange = useCallback((e: Event, value: number|number[]) => {\n        if(!onChange) {\n            return;\n        }\n\n        onChange(value as number);\n    }, [onChange]);\n\n    return (\n        <Grid container spacing={2} alignItems=\"center\">\n            <Grid item width={50}>\n                {value}\n            </Grid>\n\n            <Grid item xs>\n                <Slider\n                  {...rest}\n                  value={value}\n                  onChange={handleChange} />\n            </Grid>\n        </Grid>\n    );\n};\n\n\nexport {InputSlider};\n","import React, {useState, createContext, PropsWithChildren} from \"react\";\nimport {Point} from \"motor-js\";\n\n\ntype ContextType = {\n    isRunning: boolean;\n    setRunning: (isRunning: boolean) => void,\n    fov: number;\n    setFov: (fov: number) => void;\n    pitch: number;\n    setPitch: (pitch: number) => void;\n    yaw: number;\n    setYaw: (yaw: number) => void;\n    direction: Point;\n    setDirection: (direction: Point) => void;\n    position: Point;\n    setPosition: (position: Point) => void;\n};\n\nconst Context = createContext<ContextType>({\n    isRunning: false,\n    setRunning() {},\n    fov: 100,\n    setFov() {},\n    pitch: 0,\n    setPitch() {},\n    yaw: 0,\n    setYaw() {},\n    direction: {x: 1, y: 0, z: 0},\n    setDirection() {},\n    position: {x: 0, y: 0, z: 0},\n    setPosition() {}\n});\n\ntype Props = PropsWithChildren;\n\nconst ConfigProvider: React.FC<Props> = (props) => {\n    const {children} = props;\n\n    const [isRunning, setRunning] = useState(true);\n    const [fov, setFov] = useState(100);\n    const [pitch, setPitch] = useState(0);\n    const [yaw, setYaw] = useState(0);\n    const [position, setPosition] = useState<Point>({x: 0, y: 0, z: 0});\n    const [direction, setDirection] = useState<Point>({x: 0, y: 0, z: 1});\n\n    return (\n        <Context.Provider\n          value={{\n            isRunning,\n            setRunning,\n            fov,\n            setFov,\n            pitch,\n            setPitch,\n            yaw,\n            setYaw,\n            direction,\n            setDirection,\n            position,\n            setPosition\n          }}>\n            {children}\n        </Context.Provider>\n    );\n};\n\n\nexport {\n    ConfigProvider,\n    Context as ConfigContext\n};\n","import React, {useContext, useCallback} from \"react\";\nimport Box from \"@mui/material/Box\";\nimport Grid from \"@mui/material/Grid\";\nimport Switch from \"@mui/material/Switch\";\n\nimport {InputSlider} from \"../InputSlider\";\nimport {ConfigContext} from \"../ConfigProvider\";\n\n\nconst ConfigPanel: React.FC = () => {\n    const {\n        isRunning, setRunning,\n        fov, setFov,\n        pitch, setPitch,\n        yaw, setYaw,\n        direction, setDirection,\n        position, setPosition\n    } = useContext(ConfigContext);\n\n    const handleToggleRunning = useCallback(() => {\n        setRunning(!isRunning);\n    }, [isRunning]);\n\n    const handleChangePositionX = useCallback((x: number) => {\n        setPosition({\n            ...position,\n            x\n        });\n    }, [position]);\n\n    const handleChangePositionY = useCallback((y: number) => {\n        setPosition({\n            ...position,\n            y\n        });\n    }, [position]);\n\n    const handleChangePositionZ = useCallback((z: number) => {\n        setPosition({\n            ...position,\n            z\n        });\n    }, [position]);\n\n    const handleChangeDirectionX = useCallback((x: number) => {\n        setDirection({\n            ...direction,\n            x\n        });\n    }, [direction]);\n\n    const handleChangeDirectionY = useCallback((y: number) => {\n        setDirection({\n            ...direction,\n            y\n        });\n    }, [direction]);\n\n    const handleChangeDirectionZ = useCallback((z: number) => {\n        setDirection({\n            ...direction,\n            z\n        });\n    }, [direction]);\n\n    return (\n        <Box sx={{paddingLeft: 2, paddingRight: 2}}>\n            <Grid container spacing={1}>\n                <Grid item xs={12}>\n                    <Switch\n                      checked={isRunning}\n                      onChange={handleToggleRunning} />\n                </Grid>\n\n                <Grid item xs={12}>\n                    <InputSlider\n                      min={0}\n                      max={200}\n                      title=\"FOV\"\n                      value={fov}\n                      onChange={setFov} />\n                </Grid>\n            </Grid>\n\n            <InputSlider\n              min={-90}\n              max={90}\n              title=\"Pitch\"\n              value={pitch}\n              onChange={setPitch} />\n\n            <InputSlider\n              min={-180}\n              max={180}\n              title=\"Yaw\"\n              value={yaw}\n              onChange={setYaw} />\n\n            <Grid container>\n                <Grid container item xs={6} spacing={1}>\n                    <Grid item xs={12}>\n                        <InputSlider\n                          min={-100}\n                          max={100}\n                          marks={[\n                            {label: \"-100\", value: -100},\n                            {label: \"0\", value: 0},\n                            {label: \"100\", value: 100}\n                          ]}\n                          title=\"Position X\"\n                          value={position.x}\n                          onChange={handleChangePositionX} />\n                    </Grid>\n\n                    <Grid item xs={12}>\n                        <InputSlider\n                          min={-100}\n                          max={100}\n                          marks={[\n                            {label: \"-100\", value: -100},\n                            {label: \"0\", value: 0},\n                            {label: \"100\", value: 100}\n                          ]}\n                          title=\"Position Y\"\n                          value={position.y}\n                          onChange={handleChangePositionY} />\n                    </Grid>\n\n                    <Grid item xs={12}>\n                        <InputSlider\n                          min={-100}\n                          max={100}\n                          marks={[\n                            {label: \"-100\", value: -100},\n                            {label: \"0\", value: 0},\n                            {label: \"100\", value: 100}\n                          ]}\n                          title=\"Position Z\"\n                          value={position.z}\n                          onChange={handleChangePositionZ} />\n                    </Grid>\n                </Grid>\n\n                <Grid container item xs={6} spacing={1}>\n                    <Grid item xs={12}>\n                        <InputSlider\n                          min={-1}\n                          max={1}\n                          step={0.01}\n                          marks={[\n                            {label: \"-1\", value: -1},\n                            {label: \"0\", value: 0},\n                            {label: \"1\", value: 1}\n                          ]}\n                          title=\"Direction X\"\n                          value={direction.x}\n                          onChange={handleChangeDirectionX} />\n                    </Grid>\n\n                    <Grid item xs={12}>\n                        <InputSlider\n                          min={-1}\n                          max={1}\n                          step={0.01}\n                          marks={[\n                            {label: \"-1\", value: -1},\n                            {label: \"0\", value: 0},\n                            {label: \"1\", value: 1}\n                          ]}\n                          title=\"Direction Y\"\n                          value={direction.y}\n                          onChange={handleChangeDirectionY} />\n                    </Grid>\n\n                    <Grid item xs={12}>\n                        <InputSlider\n                          min={-1}\n                          max={1}\n                          step={0.01}\n                          marks={[\n                            {label: \"-1\", value: -1},\n                            {label: \"0\", value: 0},\n                            {label: \"1\", value: 1}\n                          ]}\n                          title=\"Direction Z\"\n                          value={direction.z}\n                          onChange={handleChangeDirectionZ} />\n                    </Grid>\n                </Grid>\n            </Grid>\n        </Box>\n    );\n};\n\n\nexport {ConfigPanel};\n","var Context = /** @class */ (function () {\n    function Context() {\n        this.width = 0;\n        this.height = 0;\n    }\n    Context.prototype.getWidth = function () {\n        return this.width;\n    };\n    Context.prototype.getHeight = function () {\n        return this.height;\n    };\n    Context.prototype.setWidth = function (width) {\n        this.width = width;\n    };\n    Context.prototype.setHeight = function (height) {\n        this.height = height;\n    };\n    return Context;\n}());\nexport { Context };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Context } from \"../core/Context\";\nvar CanvasContext = /** @class */ (function (_super) {\n    __extends(CanvasContext, _super);\n    function CanvasContext() {\n        var _this = _super.call(this) || this;\n        _this.canvas = document.createElement(\"canvas\");\n        // @ts-ignore\n        _this.context = _this.canvas.getContext(\"2d\");\n        return _this;\n    }\n    CanvasContext.prototype.setStrokeStyle = function (color) {\n        this.context.strokeStyle = color;\n    };\n    CanvasContext.prototype.setFillStyle = function (color) {\n        this.context.fillStyle = color;\n    };\n    CanvasContext.prototype.drawLine = function (start, end) {\n        this.context.lineWidth = 0.5;\n        this.context.beginPath();\n        this.context.moveTo(start.x, start.y);\n        this.context.lineTo(end.x, end.y);\n        this.context.stroke();\n        this.context.closePath();\n    };\n    CanvasContext.prototype.fillRect = function (x, y, w, h) {\n        this.context.fillRect(x, y, w, h);\n    };\n    CanvasContext.prototype.fillPolygon = function (points) {\n        this.context.beginPath();\n        var start = points[0], rest = points.slice(1);\n        this.context.moveTo(start.x, start.y);\n        for (var i = 0; i < rest.length; i++) {\n            this.context.lineTo(rest[i].x, rest[i].y);\n        }\n        this.context.closePath();\n        this.context.stroke();\n        this.context.fill();\n    };\n    CanvasContext.prototype.clear = function () {\n        this.context.clearRect(0, 0, this.getWidth(), this.getHeight());\n    };\n    CanvasContext.prototype.requestPointerLock = function () {\n        // @ts-ignore\n        return this.canvas.requestPointerLock();\n    };\n    CanvasContext.prototype.render = function (root) {\n        var _a = root.getBoundingClientRect(), width = _a.width, height = _a.height;\n        this.canvas.width = width;\n        this.canvas.height = height;\n        root.append(this.canvas);\n    };\n    return CanvasContext;\n}(Context));\nexport { CanvasContext };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Context } from \"../core/Context\";\nvar SVGContext = /** @class */ (function (_super) {\n    __extends(SVGContext, _super);\n    function SVGContext() {\n        var _this = _super.call(this) || this;\n        _this.strokeStyle = \"#FFFFFF\";\n        _this.fillStyle = \"#FFFFFF\";\n        _this.svg = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n        _this.svg.setAttribute(\"width\", \"100%\");\n        _this.svg.setAttribute(\"height\", \"100%\");\n        return _this;\n    }\n    SVGContext.prototype.createSVGElement = function (type) {\n        return document.createElementNS(\"http://www.w3.org/2000/svg\", type);\n    };\n    SVGContext.prototype.setStrokeStyle = function (color) {\n        this.strokeStyle = color;\n    };\n    SVGContext.prototype.setFillStyle = function (color) {\n        this.fillStyle = color;\n    };\n    SVGContext.prototype.drawLine = function (start, end) {\n        var line = document.createElementNS(\"http://www.w3.org/2000/svg\", \"line\");\n        line.setAttribute(\"x1\", \"\".concat(start.x));\n        line.setAttribute(\"y1\", \"\".concat(start.y));\n        line.setAttribute(\"x2\", \"\".concat(end.x));\n        line.setAttribute(\"y2\", \"\".concat(end.y));\n        line.setAttribute(\"stroke\", this.strokeStyle);\n        line.setAttribute(\"stroke-width\", \"1\");\n        this.svg.appendChild(line);\n    };\n    SVGContext.prototype.fillRect = function (x, y, w, h) {\n        var rect = document.createElementNS(\"http://www.w3.org/2000/svg\", \"rect\");\n        rect.setAttribute(\"x\", \"\".concat(x));\n        rect.setAttribute(\"y\", \"\".concat(y));\n        rect.setAttribute(\"width\", \"\".concat(w));\n        rect.setAttribute(\"height\", \"\".concat(h));\n        rect.setAttribute(\"fill\", this.fillStyle);\n        this.svg.appendChild(rect);\n    };\n    SVGContext.prototype.fillPolygon = function (points) {\n        var polygon = document.createElementNS(\"http://www.w3.org/2000/svg\", \"polygon\");\n        polygon.setAttribute(\"style\", \"fill: \".concat(this.fillStyle));\n        polygon.setAttribute(\"points\", points.map(function (point) {\n            return \"\".concat(point.x, \",\").concat(point.y);\n        }).join(\" \"));\n        polygon.setAttribute(\"stroke-width\", \"0.9\");\n        polygon.setAttribute(\"stroke\", \"black\");\n        this.svg.append(polygon);\n    };\n    SVGContext.prototype.clear = function () {\n        while (this.svg.firstChild) {\n            this.svg.removeChild(this.svg.firstChild);\n        }\n    };\n    SVGContext.prototype.requestPointerLock = function () {\n        // @ts-ignore\n        return this.svg.requestPointerLock();\n    };\n    SVGContext.prototype.render = function (root) {\n        root.append(this.svg);\n    };\n    return SVGContext;\n}(Context));\nexport { SVGContext };\n","var Vector = /** @class */ (function () {\n    function Vector(x, y, z) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n    }\n    Object.defineProperty(Vector.prototype, \"distance\", {\n        get: function () {\n            return Vector.distance(this);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Vector.prototype.set = function (point) {\n        this.x = point.x;\n        this.y = point.y;\n        this.z = point.z;\n    };\n    Vector.prototype.add = function (point) {\n        this.set(Vector.summary(this, point));\n        return this;\n    };\n    Vector.prototype.multiply = function (by) {\n        this.set(Vector.multiply(this, by));\n        return this;\n    };\n    Vector.prototype.sub = function (point) {\n        this.set(Vector.subtract(this, point));\n        return this;\n    };\n    Vector.prototype.normalize = function () {\n        var _a = Vector.normalize(this), x = _a.x, y = _a.y, z = _a.z;\n        this.x = x;\n        this.y = y;\n        this.z = z;\n        return this;\n    };\n    Vector.prototype.toPoint = function () {\n        return {\n            x: this.x,\n            y: this.y,\n            z: this.z\n        };\n    };\n    Vector.fromPoint = function (point) {\n        return new Vector(point.x, point.y, point.z);\n    };\n    Vector.summary = function (a, b) {\n        return {\n            x: a.x + b.x,\n            y: a.y + b.y,\n            z: a.z + b.z\n        };\n    };\n    Vector.subtract = function (a, b) {\n        return {\n            x: a.x - b.x,\n            y: a.y - b.y,\n            z: a.z - b.z\n        };\n    };\n    Vector.cross = function (a, b) {\n        return {\n            x: a.y * b.z - a.z * b.y,\n            y: a.z * b.x - a.x * b.z,\n            z: a.x * b.y - a.y * b.x\n        };\n    };\n    Vector.distance = function (a) {\n        return Math.sqrt(Math.pow(a.x, 2) + Math.pow(a.y, 2) + Math.pow(a.z, 2));\n    };\n    Vector.normalize = function (a) {\n        var length = Math.sqrt(Math.pow(a.x, 2) + Math.pow(a.y, 2) + Math.pow(a.z, 2));\n        return {\n            x: a.x / length,\n            y: a.y / length,\n            z: a.z / length\n        };\n    };\n    Vector.multiply = function (a, by) {\n        return {\n            x: a.x * by,\n            y: a.y * by,\n            z: a.z * by\n        };\n    };\n    Vector.dot = function (a, b) {\n        return a.x * b.x + a.y * b.y + a.z * b.z;\n    };\n    Vector.intersectPlane = function (point, vector, v1, v2, v3) {\n        return null;\n    };\n    Vector.intersectWithTriangle1 = function (rayOrigin, rayVector, v0, v1, v2) {\n        var EPSILON = 0.0000001;\n        var edge1 = Vector.subtract(v1, v0);\n        var edge2 = Vector.subtract(v2, v0);\n        var h = Vector.cross(rayVector, edge2);\n        var a = Vector.dot(edge1, h);\n        if (a > -EPSILON && a < EPSILON) // Лінія є паралельною до трикутника\n            return null;\n        var f = 1 / a;\n        var s = Vector.subtract(rayOrigin, v0);\n        var u = f * Vector.dot(s, h);\n        if (u < 0.0 || u > 1.0) // перетин знаходиться поза трикутником\n            return null;\n        var q = Vector.cross(s, edge1);\n        var v = f * Vector.dot(rayVector, q);\n        if (v < 0.0 || u + v > 1.0) // перетин знаходиться поза трикутником\n            return null;\n        // Променя перетинає трикутник, отже обчислюємо точку перетину\n        var t = f * Vector.dot(edge2, q);\n        return Vector.summary(rayOrigin, Vector.multiply(rayVector, t));\n    };\n    Vector.intersectWithTriangle = function (rayOrigin, rayVector, v0, v1, v2) {\n        var EPSILON = 0.0000001;\n        var edge1 = Vector.subtract(v1, v0);\n        var edge2 = Vector.subtract(v2, v0);\n        var planeNormal = Vector.cross(edge1, edge2);\n        var denominator = Vector.dot(planeNormal, rayVector);\n        if (Math.abs(denominator) < EPSILON) { // Лінія є паралельною до площини\n            return null;\n        }\n        var t = Vector.dot(planeNormal, Vector.subtract(v0, rayOrigin)) / denominator;\n        if (t < 0) { // перетин знаходиться поза прямолінійним відрізком\n            return null;\n        }\n        // Обраховуємо і повертаємо точку перетину\n        return Vector.summary(rayOrigin, Vector.multiply(rayVector, t));\n    };\n    return Vector;\n}());\nexport { Vector };\n","var __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { Vector } from \"./Vector\";\nvar Polygon = /** @class */ (function () {\n    function Polygon(points, normal) {\n        this.points = points;\n        this.distance = 0;\n        this.normal = !normal ? this.calcNormal() : normal;\n    }\n    Polygon.prototype.setId = function (id) {\n        this.id = id;\n    };\n    Polygon.prototype.intersects = function (polygon) {\n        var axes = __spreadArray(__spreadArray([], Polygon.getNormals(this.points), true), Polygon.getNormals(polygon.points), true);\n        for (var _i = 0, axes_1 = axes; _i < axes_1.length; _i++) {\n            var axis = axes_1[_i];\n            var projection1 = Polygon.projection(this.points, axis);\n            var projection2 = Polygon.projection(polygon.points, axis);\n            if (projection1.max < projection2.min || projection2.max < projection1.min) {\n                return false;\n            }\n            if (projection1.max === projection2.min || projection2.max === projection1.min) {\n                return false;\n            }\n        }\n        return true;\n    };\n    Polygon.prototype.smooth = function () {\n        return [];\n    };\n    Polygon.prototype.getNormal = function () {\n        return this.normal;\n    };\n    Polygon.prototype.calcNormal = function () {\n        var normal = {\n            x: 0,\n            y: 0,\n            z: 0\n        };\n        for (var i = 0; i < this.points.length; i++) {\n            var p1 = this.points[i];\n            var p2 = this.points[(i + 1) % this.points.length];\n            var p3 = this.points[(i + 2) % this.points.length];\n            var vector1 = Vector.subtract(p1, p2);\n            var vector2 = Vector.subtract(p1, p3);\n            var cross = Vector.cross(vector1, vector2);\n            normal = Vector.summary(normal, cross);\n        }\n        return Vector.normalize({\n            x: normal.x / this.points.length,\n            y: normal.y / this.points.length,\n            z: normal.z / this.points.length\n        });\n    };\n    Polygon.prototype.getCenter = function () {\n        var center = {\n            x: 0,\n            y: 0,\n            z: 0\n        };\n        for (var i = 0; i < this.points.length; i++) {\n            center = Vector.summary(this.points[i], center);\n        }\n        return {\n            x: center.x / this.points.length,\n            y: center.y / this.points.length,\n            z: center.z / this.points.length,\n        };\n    };\n    Polygon.prototype.isContainPoint = function (p) {\n        var inside = false;\n        for (var i = 0; i < this.points.length; i++) {\n            var p1 = this.points[i];\n            var p2 = this.points[(i + 1) % this.points.length];\n            var p3 = this.points[(i + 2) % this.points.length];\n            var v0 = Vector.subtract(p3, p1);\n            var v1 = Vector.subtract(p2, p1);\n            var v2 = Vector.subtract(p, p1);\n            var dot00 = Vector.dot(v0, v0);\n            var dot01 = Vector.dot(v0, v1);\n            var dot02 = Vector.dot(v0, v2);\n            var dot11 = Vector.dot(v1, v1);\n            var dot12 = Vector.dot(v1, v2);\n            var invDenom = 1 / (dot00 * dot11 - dot01 * dot01);\n            var u = (dot11 * dot02 - dot01 * dot12) * invDenom;\n            var v = (dot00 * dot12 - dot01 * dot02) * invDenom;\n            if ((u >= 0) && (v >= 0) && (u + v < 1)) {\n                inside = true;\n                break;\n            }\n        }\n        return inside;\n    };\n    Polygon.prototype.isOnSamePlane = function (p) {\n        var normal = this.getNormal();\n        var referencePoint = this.points[0];\n        var dotProduct = ((p.x - referencePoint.x) * normal.x)\n            + ((p.y - referencePoint.y) * normal.y)\n            + ((p.z - referencePoint.z) * normal.z);\n        return Math.abs(dotProduct) < 0.0001;\n        // Де 0,0001 - це точність декількох знаків після коми,\n        // може бути адаптовано в залежності від ваших потреб.\n    };\n    Polygon.isIntersect = function (A, B) {\n        return false;\n    };\n    Polygon.intersect = function (A, B) {\n        var before = [];\n        var after = [];\n        var isBefore = true;\n        for (var i = 0; i < A.points.length; i++) {\n            var a1 = A.points[i];\n            var a2 = A.points[(i + 1) % A.points.length];\n            var vector = Vector.subtract(a2, a1);\n            if (isBefore) {\n                before.push(a1);\n            }\n            else {\n                after.push(a1);\n            }\n            for (var j = 0; j < B.points.length; j++) {\n                var b1 = B.points[j];\n                var b2 = B.points[(j + 1) % B.points.length];\n                var b3 = B.points[(j + 2) % B.points.length];\n                var intersectPoint = Vector.intersectWithTriangle(a1, vector, b1, b2, b3);\n                if (intersectPoint && A.isContainPoint(intersectPoint)) {\n                    if (isBefore) {\n                        before.push(intersectPoint);\n                        after.push(intersectPoint);\n                    }\n                    else {\n                        before.push(intersectPoint);\n                        after.push(intersectPoint);\n                    }\n                    isBefore = !isBefore;\n                    break;\n                }\n            }\n        }\n        return [\n            new Polygon(before),\n            new Polygon(after)\n        ];\n    };\n    Polygon.getNormals = function (points) {\n        var normals = [];\n        for (var i = 0; i < points.length; i++) {\n            var p1 = points[i];\n            var p2 = points[(i + 1) % points.length];\n            var edge = {\n                x: p2.x - p1.x,\n                y: p2.y - p1.y,\n                z: p2.z - p1.z\n            };\n            var normal = {\n                x: -edge.y,\n                y: edge.x,\n                z: edge.z\n            };\n            normals.push(normal);\n        }\n        return normals;\n    };\n    Polygon.projection = function (points, axis) {\n        var min = axis.x * points[0].x + axis.y * points[0].y;\n        var max = min;\n        for (var i = 1; i < points.length; i++) {\n            var p = axis.x * points[i].x + axis.y * points[i].y;\n            if (p < min) {\n                min = p;\n            }\n            else if (p > max) {\n                max = p;\n            }\n        }\n        return { min: min, max: max };\n    };\n    return Polygon;\n}());\nexport { Polygon };\n","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { Vector } from \"./Vector\";\nimport { Polygon } from \"./Polygon\";\nimport { calcCameraRotationMatrixV2 } from \"../utils/calcCameraRotationMatrix\";\nvar Camera = /** @class */ (function () {\n    function Camera(context, dataProvider, position, direction) {\n        if (position === void 0) { position = { x: 0, y: 0, z: 0 }; }\n        if (direction === void 0) { direction = { x: 0, y: 0, z: 1 }; }\n        this.context = context;\n        this.dataProvider = dataProvider;\n        this.position = position;\n        this.direction = direction;\n        this.debug = false;\n        this.isRunning = false;\n        this.fov = 100;\n        this.pitch = 0;\n        this.yaw = 0;\n        this.roll = 0;\n        this.rotationMatrix = this.calcDirectionMatrix();\n    }\n    Camera.prototype.getPosition = function () {\n        return this.position;\n    };\n    Camera.prototype.setPosition = function (position) {\n        this.position = __assign({}, position);\n        this.rotationMatrix = this.calcDirectionMatrix();\n    };\n    Camera.prototype.calcDirectionMatrix = function () {\n        return calcCameraRotationMatrixV2(this.position, this.direction);\n    };\n    Camera.prototype.toCameraPoint = function (point) {\n        //\n    };\n    Camera.prototype.rotatePoint = function (point) {\n        var matrix = this.rotationMatrix;\n        var x = point.x * matrix[0][0] + point.y * matrix[1][0] + point.z * matrix[2][0] + matrix[3][0];\n        var y = point.x * matrix[0][1] + point.y * matrix[1][1] + point.z * matrix[2][1] + matrix[3][1];\n        var z = point.x * matrix[0][2] + point.y * matrix[1][2] + point.z * matrix[2][2] + matrix[3][2];\n        // const w = point.x * matrix[0][3] + point.y * matrix[1][3] + point.z * matrix[2][3] + matrix[3][3];\n        var w = 1;\n        return {\n            x: x / w,\n            y: y / w,\n            z: z / w\n        };\n    };\n    Camera.prototype.projectPoint = function (point) {\n        var _a = this.rotatePoint(point), x = _a.x, y = _a.y, z = _a.z;\n        if (z / 3 <= -this.fov) {\n            return { x: NaN, y: NaN };\n        }\n        var scale = this.fov / (this.fov + z / 3);\n        return {\n            x: scale * x,\n            y: scale * y\n        };\n    };\n    Camera.prototype.getFov = function () {\n        return this.fov;\n    };\n    Camera.prototype.setFov = function (fov) {\n        this.fov = fov;\n    };\n    Camera.prototype.getDirection = function () {\n        return this.direction;\n    };\n    Camera.prototype.getDirectionLeft = function () {\n        return Vector.cross(this.direction, {\n            x: 0,\n            y: 1,\n            z: 0\n        });\n    };\n    Camera.prototype.setDirection = function (direction) {\n        this.direction = Vector.normalize(direction);\n        this.rotationMatrix = this.calcDirectionMatrix();\n    };\n    Camera.prototype.setDirectionFromAngles = function (pitch, yaw) {\n        this.pitch = Math.max(Math.min(pitch, 90), -90);\n        this.yaw = yaw;\n        var pitchRadians = this.pitch * (Math.PI / 180), yawRadians = this.yaw * (Math.PI / 180);\n        this.setDirection({\n            x: Math.cos(pitchRadians) * Math.sin(yawRadians),\n            y: Math.sin(pitchRadians),\n            z: Math.cos(pitchRadians) * Math.cos(yawRadians)\n        });\n    };\n    Camera.prototype.getYaw = function () {\n        // return Math.atan2(this.direction.z, this.direction.x) * (180 / Math.PI);\n        return this.yaw;\n    };\n    Camera.prototype.getPitch = function () {\n        // return Math.asin(this.direction.y) * (180 / Math.PI);\n        return this.pitch;\n    };\n    Camera.prototype.setPitch = function (pitch) {\n        this.setDirectionFromAngles(pitch, this.yaw);\n    };\n    Camera.prototype.setYaw = function (yaw) {\n        this.setDirectionFromAngles(this.pitch, yaw);\n    };\n    Camera.prototype.update = function () {\n        var _this = this;\n        this.context.clear();\n        var polygons = this.dataProvider.getModels().reduce(function (polygons, model, modelIndex) {\n            var position = model.getPosition();\n            var points = model.getPoints();\n            return __spreadArray(__spreadArray([], polygons, true), model.getPolygons().map(function (indexes, polygonIndex) {\n                var polygonPoints = indexes.map(function (index) {\n                    var point = points[index];\n                    return {\n                        x: position.x + point.x - _this.position.x,\n                        y: position.y + point.y - _this.position.y,\n                        z: position.z + point.z - _this.position.z\n                    };\n                });\n                var polygon = new Polygon(polygonPoints);\n                polygon.setId(\"#\".concat(model.getId(), \".\").concat(polygonIndex));\n                var d = -100;\n                var direction = {\n                    x: _this.direction.x * d,\n                    y: _this.direction.y * d,\n                    z: _this.direction.z * d\n                };\n                direction = Vector.subtract(_this.position, direction);\n                var sum = polygon.points.reduce(function (sum, point, index) {\n                    var point1 = point;\n                    var point2 = polygon.points[polygon.points.length === index + 1 ? 0 : index + 1];\n                    var vector1 = Vector.subtract(point2, point1);\n                    var vector2 = Vector.subtract(point1, direction);\n                    var p = Vector.cross(vector1, vector2);\n                    // console.log(Vector.distance(p) / Vector.distance(vector1));\n                    var distance = Vector.distance(p) / Vector.distance(vector1);\n                    // if(this.debug) {\n                    //     this.debug = false;\n                    //     debugger;\n                    // }\n                    return sum + distance;\n                }, 0);\n                polygon.sum = sum;\n                polygon.distance = sum / Math.max(polygon.points.length, 1);\n                polygon.color = \"hsl(\".concat(modelIndex * 100, \", 100%, 50%)\");\n                return polygon;\n            }), true);\n        }, []).sort(function (a, b) {\n            return b.distance - a.distance;\n        });\n        for (var _i = 0, polygons_1 = polygons; _i < polygons_1.length; _i++) {\n            var polygon = polygons_1[_i];\n            var polygonPoints = polygon.points.map(function (point) {\n                var _a = _this.projectPoint(point), x = _a.x, y = _a.y;\n                return {\n                    x: _this.context.getWidth() / 2 + x,\n                    y: _this.context.getHeight() / 2 - y\n                };\n            }).filter(function (point) {\n                return !isNaN(point.x) && !isNaN(point.y);\n            });\n            if (polygonPoints.length > 0) {\n                this.context.setStrokeStyle(\"#000000\");\n                this.context.setFillStyle(polygon.color || \"#CC0000\");\n                this.context.fillPolygon(polygonPoints);\n            }\n        }\n        if (this.debug) {\n            this.debug = false;\n            polygons.forEach(function (polygon) {\n                console.info(polygon.id, polygon.distance, polygon);\n            });\n            debugger;\n        }\n        return polygons;\n    };\n    Camera.prototype.run = function () {\n        this.isRunning = true;\n        this.loop();\n    };\n    Camera.prototype.destroy = function () {\n        this.isRunning = false;\n    };\n    Camera.prototype.activateDebug = function () {\n        this.debug = true;\n    };\n    Camera.prototype.loop = function () {\n        var _this = this;\n        if (!this.isRunning) {\n            return;\n        }\n        requestAnimationFrame(function () {\n            _this.update();\n            _this.loop();\n        });\n    };\n    return Camera;\n}());\nexport { Camera };\n","import { Vector } from \"../core/Vector\";\nexport var calcCameraRotationMatrixV1 = function (eye, center, up) {\n    var f = Vector.normalize(Vector.subtract(center, eye));\n    var s = Vector.normalize(Vector.cross(f, up));\n    var u = Vector.cross(s, f);\n    return [\n        [s.x, u.x, -f.x, 0],\n        [s.y, u.y, -f.y, 0],\n        [s.z, u.z, -f.z, 0],\n        [-Vector.dot(s, eye), -Vector.dot(u, eye), Vector.dot(f, eye), 1]\n    ];\n};\nexport var calcCameraRotationMatrixV2 = function (position, direction, up) {\n    if (up === void 0) { up = { x: 0, y: 1, z: 0 }; }\n    var right = Vector.normalize(Vector.cross(up, direction));\n    var newUp = Vector.normalize(Vector.cross(direction, right));\n    return [\n        [right.x, newUp.x, direction.x, position.x],\n        [right.y, newUp.y, direction.y, position.y],\n        [right.z, newUp.z, direction.z, position.z],\n        [0, 0, 0, 1]\n    ];\n};\n","import { Vector } from \"./Vector\";\nimport { calcDirectionMatrix } from \"../utils/calcDirectionMatrix\";\nvar Model = /** @class */ (function () {\n    function Model(position) {\n        this.scale = 1;\n        this.rotation = 0;\n        this.rotationDirection = { x: 0, y: 1, z: 0 };\n        this.points = [];\n        this.polygons = [];\n        this.position = position || { x: 0, y: 0, z: 0 };\n        this.rotationMatrix = this.calcDirectionMatrix();\n    }\n    Model.prototype.getId = function () {\n        return this.id;\n    };\n    Model.prototype.setId = function (id) {\n        this.id = id;\n    };\n    Model.prototype.getPosition = function () {\n        return this.position;\n    };\n    Model.prototype.setPosition = function (position) {\n        this.position = position;\n    };\n    Model.prototype.getPoints = function () {\n        var _this = this;\n        return this.points.map(function (point) {\n            return _this.getRotatedPoint(point);\n        });\n    };\n    Model.prototype.getPolygons = function () {\n        return this.polygons;\n    };\n    Model.prototype.getScale = function () {\n        return this.scale;\n    };\n    Model.prototype.setScale = function (scale) {\n        this.scale = Math.min(Math.max(scale, 1), 0);\n    };\n    Model.prototype.setDirection = function (direction) {\n        this.rotationDirection = Vector.normalize(direction);\n        this.rotationMatrix = this.calcDirectionMatrix();\n    };\n    Model.prototype.rotate = function (angle, direction) {\n        this.rotation = angle;\n        if (direction) {\n            this.rotationDirection = Vector.normalize(direction);\n        }\n        this.rotationMatrix = this.calcDirectionMatrix();\n    };\n    Model.prototype.calcDirectionMatrix = function () {\n        return calcDirectionMatrix(this.rotationDirection, this.rotation);\n    };\n    Model.prototype.getRotatedPoint = function (point) {\n        return {\n            x: point.x * this.rotationMatrix[0][0] + point.y * this.rotationMatrix[0][1] + point.z * this.rotationMatrix[0][2],\n            y: point.x * this.rotationMatrix[1][0] + point.y * this.rotationMatrix[1][1] + point.z * this.rotationMatrix[1][2],\n            z: point.x * this.rotationMatrix[2][0] + point.y * this.rotationMatrix[2][1] + point.z * this.rotationMatrix[2][2]\n        };\n    };\n    return Model;\n}());\nexport { Model };\n","export var calcDirectionMatrix = function (direction, angle) {\n    var rotationAngle = angle * (Math.PI / 180);\n    var cosAngle = Math.cos(rotationAngle);\n    var sinAngle = Math.sin(rotationAngle);\n    return [\n        [\n            cosAngle + Math.pow(direction.x, 2) * (1 - cosAngle),\n            direction.x * direction.y * (1 - cosAngle) - direction.z * sinAngle,\n            direction.x * direction.z * (1 - cosAngle) + direction.y * sinAngle\n        ],\n        [\n            direction.y * direction.x * (1 - cosAngle) + direction.z * sinAngle,\n            cosAngle + Math.pow(direction.y, 2) * (1 - cosAngle),\n            direction.y * direction.z * (1 - cosAngle) - direction.x * sinAngle\n        ],\n        [\n            direction.z * direction.x * (1 - cosAngle) - direction.y * sinAngle,\n            direction.z * direction.y * (1 - cosAngle) + direction.x * sinAngle,\n            cosAngle + Math.pow(direction.z, 2) * (1 - cosAngle)\n        ]\n    ];\n};\n","var DataProvider = /** @class */ (function () {\n    function DataProvider() {\n        this.models = [];\n    }\n    DataProvider.prototype.getModels = function () {\n        return this.models;\n    };\n    DataProvider.prototype.addModel = function (model) {\n        this.models.push(model);\n    };\n    return DataProvider;\n}());\nexport { DataProvider };\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nimport { SVGContext } from \"../context/SVGContext\";\nimport { CanvasContext } from \"../context/CanvasContext\";\nimport { Camera } from \"./Camera\";\nimport { DataProvider } from \"./DataProvider\";\nvar Scene = /** @class */ (function () {\n    function Scene(context) {\n        this.isLooping = false;\n        switch (context) {\n            case \"svg\":\n                this.context = new SVGContext();\n                break;\n            case \"canvas\":\n                this.context = new CanvasContext();\n                break;\n            default:\n                this.context = context;\n                break;\n        }\n        this.dataProvider = new DataProvider();\n        this.camera = new Camera(this.context, this.dataProvider);\n    }\n    Scene.prototype.getContext = function () {\n        return this.context;\n    };\n    Scene.prototype.getCamera = function () {\n        return this.camera;\n    };\n    Scene.prototype.requestPointerLock = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.context.requestPointerLock()];\n            });\n        });\n    };\n    Scene.prototype.update = function () {\n        for (var _i = 0, _a = this.dataProvider.getModels(); _i < _a.length; _i++) {\n            var model = _a[_i];\n            //\n        }\n    };\n    Scene.prototype.add = function (model, position, id) {\n        if (id) {\n            model.setId(id);\n        }\n        if (position) {\n            model.setPosition(position);\n        }\n        this.dataProvider.addModel(model);\n    };\n    Scene.prototype.run = function (root) {\n        var _a = root.getBoundingClientRect(), width = _a.width, height = _a.height;\n        this.context.setWidth(width);\n        this.context.setHeight(height);\n        while (root.firstChild) {\n            root.removeChild(root.firstChild);\n        }\n        this.context.render(root);\n        this.camera.run();\n    };\n    Scene.prototype.stop = function () {\n        this.camera.destroy();\n    };\n    Scene.prototype.loop = function () {\n        var _this = this;\n        if (!this.isLooping) {\n            return;\n        }\n        window.requestAnimationFrame(function () {\n            _this.update();\n            _this.loop();\n        });\n    };\n    return Scene;\n}());\nexport { Scene };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Model } from \"../core/Model\";\nvar Sphere = /** @class */ (function (_super) {\n    __extends(Sphere, _super);\n    function Sphere(radius, position) {\n        var _this = _super.call(this, position) || this;\n        _this.radius = radius;\n        return _this;\n    }\n    return Sphere;\n}(Model));\nexport { Sphere };\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Model } from \"../core/Model\";\nvar Cube = /** @class */ (function (_super) {\n    __extends(Cube, _super);\n    function Cube(width, height, depth, position) {\n        var _this = _super.call(this, position) || this;\n        _this.width = width;\n        _this.height = height;\n        _this.depth = depth;\n        _this.points = [\n            { x: -width / 2, y: -height / 2, z: -depth / 2 }, // 0\n            { x: width / 2, y: -height / 2, z: -depth / 2 }, // 1\n            { x: width / 2, y: height / 2, z: -depth / 2 }, // 2\n            { x: -width / 2, y: height / 2, z: -depth / 2 }, // 3\n            { x: -width / 2, y: -height / 2, z: depth / 2 }, // 4\n            { x: width / 2, y: -height / 2, z: depth / 2 }, // 5\n            { x: width / 2, y: height / 2, z: depth / 2 }, // 6\n            { x: -width / 2, y: height / 2, z: depth / 2 } // 7\n        ];\n        _this.polygons = [\n            [0, 1, 2, 3],\n            [1, 2, 6, 5],\n            [4, 5, 6, 7],\n            [0, 4, 7, 3],\n            [7, 3, 2, 6],\n            [0, 1, 5, 4]\n        ];\n        return _this;\n    }\n    return Cube;\n}(Model));\nexport { Cube };\n","import {Model, Polygon, Point} from \"motor-js\";\n\n\nexport class Lines extends Model {\n    constructor() {\n        super();\n\n        this.points = [];\n        this.polygons = [];\n    }\n\n    public addPolygon(p: Polygon) {\n        const indexes: number[] = [];\n\n        for(let i = 0; i < p.points.length; i++) {\n            indexes.push(this.points.length);\n            this.points.push(p.points[i]);\n        }\n\n        this.polygons.push(indexes);\n    }\n\n    public addLine(start: Point, end: Point) {\n        const index = this.points.length;\n\n        this.points.push(start);\n        this.points.push(end);\n\n        this.polygons.push([index, index + 1]);\n    }\n}\n","import React, {useState, useRef, useContext, useCallback, useEffect, MouseEvent as RMouseEvent} from \"react\";\nimport {Scene, Cube, Polygon, Vector, Point} from \"motor-js\";\n\nimport {ConfigContext} from \"../ConfigProvider\";\nimport {Lines} from \"../../models/Lines\";\n\n\nconst PathBuilder: React.FC = () => {\n    const [isLocked, setLocked] = useState(false);\n    const rootRef = useRef(null);\n    const sceneRef = useRef<Scene>();\n    const {isRunning, fov, pitch, yaw, direction} = useContext(ConfigContext);\n\n    const handleContextMenu = useCallback((e: RMouseEvent) => {\n        if(!sceneRef.current) {\n            return;\n        }\n\n        const scene = sceneRef.current;\n        scene.getCamera().activateDebug();\n\n        e.preventDefault();\n        e.stopPropagation();\n    }, []);\n\n    const handleClick = useCallback(() => {\n        if(!sceneRef.current) {\n            return;\n        }\n\n        sceneRef.current.requestPointerLock();\n    }, []);\n\n    useEffect(() => {\n        if(!rootRef.current) {\n            return;\n        }\n\n        const scene = sceneRef.current = new Scene(\"canvas\");\n\n        const lines = new Lines();\n\n        const a = new Polygon([\n            {x: -100, y: -10, z: -10},\n            {x: 0, y: 90, z: -10},\n            {x: 100, y: -10, z: -10}\n        ]);\n\n        const b = new Polygon([\n            {x: -10, y: 0, z: -90},\n            {x: -10, y: 120, z: 0},\n            {x: -10, y: 0, z: 90}\n        ]);\n\n        const intersects = [\n            ...Polygon.intersect(a, b),\n            ...Polygon.intersect(b, a)\n        ];\n\n        for(let i = 0; i < intersects.length; i++) {\n            const polygon = intersects[i];\n\n            lines.addPolygon(polygon);\n        }\n\n        const aCenter = a.getCenter();\n        const aNormal = Vector.fromPoint(a.getNormal()).multiply(100).add(aCenter);\n\n        lines.addLine(aCenter, aNormal);\n\n        const bCenter = b.getCenter();\n        const bNormal = Vector.fromPoint(b.getNormal()).multiply(100).add(bCenter);\n\n        lines.addLine(bCenter, bNormal);\n\n        // scene.add(new Cube(100, 100, 100), {x: 0, y: 0, z: 0}, \"cube\");\n        // scene.add(new Cube(200, 1, 200), {x: 0, y: -100, z: 0}, \"ground\");\n        scene.add(lines);\n\n        // scene.add(new Cube(500, 100, 500), {x: 0, y: 0, z: 0}, \"cube\");\n        // scene.add(new Cube(1000, 1, 1000), {x: 0, y: -55, z: 0}, \"ground\");\n\n        for(let i = -6; i <= 6; i++) {\n            for(let j = -6; j <= 6; j++) {\n                scene.add(new Cube(200, 1, 200), {x: 200 * i, y: -2000, z: 200 * j});\n                scene.add(new Cube(200, 1, 200), {x: 200 * i, y: 2000, z: 200 * j});\n            }\n        }\n\n        scene.run(rootRef.current);\n\n        return () => {\n            scene.stop();\n        };\n    }, []);\n\n    useEffect(() => {\n        const handleLockChange = () => {\n            const locked = !!document.pointerLockElement;\n\n            setLocked(locked);\n        };\n\n        document.addEventListener(\"pointerlockchange\", handleLockChange);\n\n        return () => {\n            document.removeEventListener(\"pointerlockchange\", handleLockChange);\n        };\n    }, []);\n\n    useEffect(() => {\n        let forwardInterval: NodeJS.Timeout;\n        let backInterval: NodeJS.Timeout;\n        let leftInterval: NodeJS.Timeout;\n        let rightInterval: NodeJS.Timeout;\n        let upInterval: NodeJS.Timeout;\n        let downInterval: NodeJS.Timeout;\n\n        const handleDown = (e: KeyboardEvent) => {\n            if(!sceneRef.current) {\n                return;\n            }\n\n            const scene = sceneRef.current;\n            const camera = scene.getCamera();\n            let position = camera.getPosition();\n\n            switch(e.key) {\n                case \"ArrowUp\":\n                    camera.setPosition({\n                        ...position,\n                        z: position.z + 1\n                    });\n                    break;\n\n                case \"ArrowDown\":\n                    camera.setPosition({\n                        ...position,\n                        z: position.z - 1\n                    });\n                    break;\n\n                case \"ArrowLeft\":\n                    camera.setPosition({\n                        ...position,\n                        x: position.x + 1\n                    });\n                    break;\n\n                case \"ArrowRight\":\n                    camera.setPosition({\n                        ...position,\n                        x: position.x - 1\n                    });\n                    break;\n\n                case \"w\": {\n                    clearInterval(forwardInterval);\n                    forwardInterval = setInterval(() => {\n                        const camera = scene.getCamera();\n\n                        camera.setPosition({\n                            x: camera.getPosition().x + camera.getDirection().x,\n                            y: camera.getPosition().y + camera.getDirection().y,\n                            z: camera.getPosition().z + camera.getDirection().z\n                        });\n                    }, 0);\n\n                    e.preventDefault();\n                    e.stopPropagation();\n                    break;\n                }\n\n                case \"a\": {\n                    clearInterval(leftInterval);\n                    leftInterval = setInterval(() => {\n                        const camera = scene.getCamera();\n\n                        camera.setPosition({\n                            x: camera.getPosition().x + camera.getDirectionLeft().x,\n                            y: camera.getPosition().y + camera.getDirectionLeft().y,\n                            z: camera.getPosition().z + camera.getDirectionLeft().z\n                        });\n                    }, 0);\n                    e.preventDefault();\n                    e.stopPropagation();\n                    break;\n                }\n\n                case \"d\": {\n                    clearInterval(rightInterval);\n                    rightInterval = setInterval(() => {\n                        const camera = scene.getCamera();\n                        camera.setPosition({\n                            x: camera.getPosition().x - camera.getDirectionLeft().x,\n                            y: camera.getPosition().y - camera.getDirectionLeft().y,\n                            z: camera.getPosition().z - camera.getDirectionLeft().z\n                        });\n                    }, 0);\n                    e.preventDefault();\n                    e.stopPropagation();\n                    break;\n                }\n\n                case \"s\": {\n                    clearInterval(backInterval);\n                    backInterval = setInterval(() => {\n                        const camera = scene.getCamera();\n\n                        camera.setPosition({\n                            x: camera.getPosition().x - camera.getDirection().x,\n                            y: camera.getPosition().y - camera.getDirection().y,\n                            z: camera.getPosition().z - camera.getDirection().z\n                        });\n                    }, 0);\n\n                    e.preventDefault();\n                    e.stopPropagation();\n                    break;\n                }\n\n                case \"q\": {\n                    clearInterval(downInterval);\n                    downInterval = setInterval(() => {\n                        const camera = scene.getCamera();\n                        const position = camera.getPosition();\n\n                        camera.setPosition({\n                            ...position,\n                            y: position.y - 1\n                        });\n                    }, 0);\n\n                    e.preventDefault();\n                    e.stopPropagation();\n                    break;\n                }\n\n                case \"e\": {\n                    clearInterval(upInterval);\n                    upInterval = setInterval(() => {\n                        const camera = scene.getCamera();\n                        const position = camera.getPosition();\n\n                        camera.setPosition({\n                            ...position,\n                            y: position.y + 1\n                        });\n                    }, 0);\n                    e.preventDefault();\n                    e.stopPropagation();\n                    break;\n                }\n            }\n        };\n\n        const handleUp = (e: KeyboardEvent) => {\n            switch(e.key) {\n                case \"w\":\n                    clearInterval(forwardInterval);\n                    break;\n\n                case \"a\":\n                    clearInterval(leftInterval);\n                    break;\n\n                case \"d\":\n                    clearInterval(rightInterval);\n                    break;\n\n                case \"s\":\n                    clearInterval(backInterval);\n                    break;\n\n                case \"q\":\n                    clearInterval(downInterval);\n                    break;\n\n                case \"e\":\n                    clearInterval(upInterval);\n                    break;\n            }\n        };\n\n        document.addEventListener(\"keypress\", handleDown);\n        document.addEventListener(\"keyup\", handleUp);\n\n        return () => {\n            document.removeEventListener(\"keypress\", handleDown);\n            document.removeEventListener(\"keyup\", handleUp);\n        };\n    }, []);\n\n    useEffect(() => {\n        if(!isLocked) {\n            return;\n        }\n\n        const handleMove = (e: MouseEvent) => {\n            if(!sceneRef.current) {\n                return;\n            }\n\n            const camera = sceneRef.current.getCamera();\n\n            camera.setDirectionFromAngles(\n                camera.getPitch() - e.movementY * 0.1,\n                camera.getYaw() + e.movementX * 0.1\n            );\n        };\n\n        document.addEventListener(\"mousemove\", handleMove);\n\n        return () => {\n            document.removeEventListener(\"mousemove\", handleMove);\n        };\n    }, [isLocked]);\n\n    useEffect(() => {\n        if(!rootRef.current || !sceneRef.current) {\n            return;\n        }\n\n        const scene = sceneRef.current;\n\n        if(!isRunning) {\n            scene.stop();\n        }\n        else {\n            scene.run(rootRef.current);\n        }\n    }, [isRunning]);\n\n    useEffect(() => {\n        if(!sceneRef.current) {\n            return;\n        }\n\n        const camera = sceneRef.current.getCamera();\n\n        camera.setFov(fov);\n    }, [fov]);\n\n    useEffect(() => {\n        if(!sceneRef.current) {\n            return;\n        }\n\n        const camera = sceneRef.current.getCamera();\n\n        camera.setPitch(pitch);\n    }, [pitch]);\n\n    useEffect(() => {\n        if(!sceneRef.current) {\n            return;\n        }\n\n        const camera = sceneRef.current.getCamera();\n\n        camera.setYaw(yaw);\n    }, [yaw]);\n\n    // useEffect(() => {\n    //     if(!sceneRef.current) {\n    //         return;\n    //     }\n    //\n    //     const camera = sceneRef.current.getCamera();\n    //\n    //     camera.setDirection(direction);\n    // }, [direction]);\n\n    return (\n        <div\n          ref={rootRef}\n          style={{\n            width: \"100%\",\n            height: \"calc(100vh - 55px)\"\n          }}\n          onClick={handleClick}\n          onContextMenu={handleContextMenu} />\n    );\n};\n\n\nexport {PathBuilder};\n","import React, {useState, useCallback, useEffect} from \"react\";\nimport Drawer from \"@mui/material/Drawer\";\n\nimport {ConfigPanel, ConfigProvider, PathBuilder} from \"./blocks\";\n\n\nconst PathBuilderPage: React.FC = () => {\n    const [isOpen, setOpen] = useState(false);\n\n    const handleClose = useCallback(() => {\n        setOpen(false);\n    }, []);\n\n    useEffect(() => {\n        const handleKeydown = (e: KeyboardEvent) => {\n            if(e.key === \"p\") {\n                setOpen((open) => !open);\n                e.preventDefault();\n            }\n        };\n\n        document.addEventListener(\"keydown\", handleKeydown);\n\n        return () => {\n            document.removeEventListener(\"keydown\", handleKeydown);\n        };\n    }, []);\n\n    return (\n        <ConfigProvider>\n            <Drawer\n              sx={{\n                width: \"40vw\"\n              }}\n              PaperProps={{\n                sx: {\n                    width: \"40vw\",\n                    padding: 2\n                }\n              }}\n              open={isOpen}\n              anchor=\"left\"\n              onClose={handleClose}>\n                <ConfigPanel />\n            </Drawer>\n\n            <PathBuilder />\n        </ConfigProvider>\n    );\n};\n\n\nexport default PathBuilderPage;\n"],"names":["InputSlider","props","value","onChange","rest","handleChange","useCallback","e","_jsxs","Grid","container","spacing","alignItems","children","_jsx","item","width","xs","Slider","Context","createContext","isRunning","setRunning","fov","setFov","pitch","setPitch","yaw","setYaw","direction","x","y","z","setDirection","position","setPosition","ConfigProvider","useState","Provider","ConfigPanel","useContext","ConfigContext","handleToggleRunning","handleChangePositionX","handleChangePositionY","handleChangePositionZ","handleChangeDirectionX","handleChangeDirectionY","handleChangeDirectionZ","Box","sx","paddingLeft","paddingRight","Switch","checked","min","max","title","marks","label","step","this","height","prototype","getWidth","getHeight","setWidth","setHeight","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","call","TypeError","String","__","constructor","create","CanvasContext","_super","_this","canvas","document","createElement","context","getContext","setStrokeStyle","color","strokeStyle","setFillStyle","fillStyle","drawLine","start","end","lineWidth","beginPath","moveTo","lineTo","stroke","closePath","fillRect","w","h","fillPolygon","points","slice","i","length","fill","clear","clearRect","requestPointerLock","render","root","_a","getBoundingClientRect","append","SVGContext","svg","createElementNS","setAttribute","createSVGElement","type","line","concat","appendChild","rect","polygon","map","point","join","firstChild","removeChild","Vector","defineProperty","get","distance","enumerable","configurable","set","add","summary","multiply","by","sub","subtract","normalize","toPoint","fromPoint","a","cross","Math","sqrt","pow","dot","intersectPlane","vector","v1","v2","v3","intersectWithTriangle1","rayOrigin","rayVector","v0","edge1","edge2","f","s","u","q","v","t","intersectWithTriangle","planeNormal","denominator","abs","__spreadArray","to","from","pack","arguments","ar","l","Polygon","normal","calcNormal","setId","id","intersects","_i","axes_1","getNormals","axis","projection1","projection","projection2","smooth","getNormal","p1","p2","p3","vector1","vector2","getCenter","center","isContainPoint","inside","dot00","dot01","dot02","dot11","dot12","invDenom","isOnSamePlane","referencePoint","dotProduct","isIntersect","A","B","intersect","before","after","isBefore","a1","a2","push","j","b1","b2","b3","intersectPoint","normals","edge","__assign","assign","n","apply","Camera","dataProvider","debug","roll","rotationMatrix","calcDirectionMatrix","getPosition","up","right","newUp","calcCameraRotationMatrixV2","toCameraPoint","rotatePoint","matrix","projectPoint","NaN","scale","getFov","getDirection","getDirectionLeft","setDirectionFromAngles","pitchRadians","PI","yawRadians","cos","sin","getYaw","getPitch","update","polygons","getModels","reduce","model","modelIndex","getPoints","getPolygons","indexes","polygonIndex","polygonPoints","index","getId","sum","point1","point2","sort","polygons_1","filter","isNaN","forEach","console","info","run","loop","destroy","activateDebug","requestAnimationFrame","Model","rotation","rotationDirection","getRotatedPoint","getScale","setScale","rotate","angle","rotationAngle","cosAngle","sinAngle","DataProvider","models","addModel","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","next","rejected","result","done","then","__generator","body","g","_","sent","trys","ops","verb","Symbol","iterator","op","pop","Scene","isLooping","camera","getCamera","stop","window","Sphere","radius","Cube","depth","Lines","super","addPolygon","addLine","PathBuilder","isLocked","setLocked","rootRef","useRef","sceneRef","handleContextMenu","current","preventDefault","stopPropagation","handleClick","useEffect","scene","lines","aCenter","aNormal","bCenter","bNormal","handleLockChange","locked","pointerLockElement","addEventListener","removeEventListener","forwardInterval","backInterval","leftInterval","rightInterval","upInterval","downInterval","handleDown","key","clearInterval","setInterval","handleUp","handleMove","movementY","movementX","ref","style","onClick","onContextMenu","PathBuilderPage","isOpen","setOpen","handleClose","handleKeydown","open","Drawer","PaperProps","padding","anchor","onClose"],"sourceRoot":""}